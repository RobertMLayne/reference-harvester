/* @license GPL-2.0-or-later https://www.drupal.org/licensing/faq */
(function($){Drupal.behaviors.usptoSearchNavForm={attach:function(context,settings){var $bc=$(once('#uspto-navbar-search-btn','button',context));if($bc.length){$('#uspto-navbar-search-btn span').removeClass('glyphicon');$('#uspto-navbar-search-btn span').removeClass('glyphicon-search');$('#uspto-navbar-search-btn span').addClass('icon-inverse');$('#uspto-navbar-search-btn span').addClass('icon-search');$('#uspto-nav-search-form input.main-q-keyword').attr('placeholder','Search');$('#main-q').click(function(e){setTimeout(function(){$('#uspto-nav-search-form input.main-q-keyword').focus();});});}}};})(jQuery);;
(function($){Drupal.behaviors.usptoShare={attach:function(context,settings){var formName,formURL,thankYou,errorMessage;function validateEmail(email){var re=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return re.test(email);}if($('#share-your-work-modal').length>0){$('#share-your-work-modal').on('hidden.bs.modal',function(){$('#share-your-work-modal .modal-content').css('text-align','left');$('#ajax-message').html('');$("#share-your-work-modal button.btn-primary").show();$("#share-your-work-modal button.btn-default").addClass('pull-left');$("#share-your-work-modal button.btn-default").removeClass('btn-success');$("#share-your-work-modal button.btn-default").text('Close');});$("#share-your-work-modal").on("show.bs.modal",function(e){$('#share-your-work-modal').find('.modal-body').html('Loading form....');$.ajax({type:"GET",url:'/usptoShare/form',dataType:'json',success:function(data){$("#share-your-work-modal button.btn-primary").attr('data-loading-text','processing...');$('#share-your-work-modal').find('.modal-body').html(data.block_content);formName=$("#share-your-work-modal form");$('button.webform-button--submit').hide();formName.find('input.form-text,textarea.form-textarea').each(function(){$(this).attr('data-error','This field is required.');if($(this).attr('type')=='email')$(this).attr('data-error','Invalid email address.');else{if($(this).attr('id')=='edit-submitted-message')$(this).attr('data-error','This field is required and limited to 512 characters.');}$('<div class="help-block with-errors"></div>').insertAfter(this);});$('#edit-submitted-share-work-user-email').attr('data-email','true');$('#edit-submitted-share-work-user-email').attr('data-outboundmail','true');formName.validator({custom:{'outboundmail':function($el){var $email=$.trim($el.val());return validateEmail($email);}},errors:{'outboundmail':"Not valid email"}});formName.validator().on('submit',function(e){if(e.isDefaultPrevented())$("#share-your-work-modal button.btn-primary").button('reset');else{e.preventDefault();$("#share-your-work-modal button.btn-primary").button('loading');$.ajax({type:"POST",url:"/form/share",data:formName.serialize(),success:function(responseData){$("#share-your-work-modal button.btn-primary").button('reset');modalBody=$('#share-your-work-modal').find('.modal-body');ajaxMessage=$('#share-your-work-modal').find('#ajax-message');submitButton=$("#share-your-work-modal button.btn-primary");thankYou=$('.alert.alert-success',responseData);thankYou=$(thankYou).html();thankYou=thankYou.replace('<button role="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">×</span></button>','');errorMessage=$('.alert.alert-danger.messages.error',responseData);if(thankYou.length>0){modalBody.html(thankYou);ajaxMessage.html('');$('a.close').hide();$("#share-your-work-modal button.btn-primary").hide();$("#share-your-work-modal button.btn-default").removeClass('pull-left');$("#share-your-work-modal button.btn-default").addClass('btn-success');$("#share-your-work-modal button.btn-default").text('Done');}},error:function(jqXHR,textStatus,errorThrown){$('#ajax-message').html('<div class="alert alert-danger alert-dismissible fade in" role="alert"> <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">×</span></button>'+errorThrown+'</div>');$("#share-your-work-modal button.btn-primary").button('reset');console.log(errorThrown);}});}});}});});$("#share-your-work-modal button.btn-primary").click(function(){formName.submit();});changeTitleh2();requiredNotice();addPlaceholders();updateSubmitBtn();var selector='button.btn.btn-link.btn-lg';$(selector).hide();}}};function updateSubmitBtn(){var btnclose='.TBB-processed .modal-footer .btn';$(btnclose).addClass('pull-left').addClass('btn-default');$(btnclose).html('Cancel');var selector='.TBB-processed .modal-content .webform-submit';$(selector).addClass('btn-primary').removeClass('btn-default');$(selector).html('Share it!&nbsp; <i class="icon icon-gift">');$(selector).detach().insertAfter('.TBB-processed .modal-footer .btn');}function requiredNotice(){var selector='.TBB-processed .webform-component--share-work-name';$(selector).prepend('<p>* indicates a required field</p>');}function changeTitleh2(){var selector='.TBB-processed .modal-header';$(selector).find('h2').replaceWith(function(){return '<h4>'+$(this).text()+'</h4>';});}function addPlaceholders(){var lbltxt='';if($('label[for="edit-submitted-share-work-desc"]').text()!==undefined)if($('label[for="edit-submitted-share-work-desc"]').text().length>0){lbltxt=$('label[for="edit-submitted-share-work-desc"]').text();$('label[for="edit-submitted-share-work-desc"]').remove();$('#edit-submitted-share-work-desc').attr("placeholder",lbltxt);}$('#edit-submitted-share-work-link').attr("placeholder","http://");}})(jQuery);;
